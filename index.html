<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Akkumulyator Mağazası</title>
    <style>
        /* Общие стили */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* Шапка */
        header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 1.5rem 0;
            text-align: center;
        }
        
        /* Навигация */
        nav {
            background: #34495e;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
        }
        
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .nav-menu {
            display: flex;
            list-style: none;
        }
        
        .nav-menu li a {
            color: white;
            text-decoration: none;
            padding: 10px 15px;
            display: block;
            transition: all 0.3s;
            border-radius: 5px;
        }
        
        .nav-menu li a:hover, 
        .nav-menu li a.active {
            background: #3498db;
        }
        
        /* Основной контент */
        .page {
            display: none;
            padding: 20px 0;
            min-height: 60vh;
        }
        
        .page.active {
            display: block;
        }
        
        /* Главная страница */
        .hero {
            text-align: center;
            padding: 30px 0;
        }
        
        .hero h2 {
            margin-bottom: 15px;
            font-size: 1.8rem;
        }

        // Полный код для меню и переключения страниц
document.addEventListener('DOMContentLoaded', function() {
    // Элементы меню
    const menuToggle = document.querySelector('.menu-toggle');
    const navMenu = document.querySelector('.nav-menu');
    const navLinks = document.querySelectorAll('.nav-link');
    const pages = document.querySelectorAll('.page');
    
    // Функция переключения страниц
    function switchPage(pageId) {
        // Скрыть все страницы
        pages.forEach(page => {
            page.classList.remove('active');
        });
        
        // Показать выбранную страницу
        document.getElementById(pageId).classList.add('active');
        
        // Обновить активную ссылку в меню
        navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('data-page') === pageId) {
                link.classList.add('active');
            }
        });
        
        // Закрыть меню на мобильных
        if (navMenu) navMenu.classList.remove('active');
    }
    
    // Обработчик для кнопки меню (гамбургера)
    if (menuToggle) {
        menuToggle.addEventListener('click', function() {
            navMenu.classList.toggle('active');
        });
    }

            @media (max-width: 768px) {
    .menu-toggle {
        display: block;
        padding: 10px 15px;
    }
    
    .nav-menu {
        position: fixed;
        top: 60px;
        left: -100%;
        width: 80%;
        height: calc(100vh - 60px);
        background: #2c3e50;
        flex-direction: column;
        transition: all 0.3s;
        padding: 20px 0;
    }
    
    .nav-menu.active {
        left: 0;
    }
    
    .nav-menu li {
        margin: 5px 0;
    }
    
    .nav-menu li a {
        padding: 12px 20px;
    }
}
    // Обработчики для ссылок меню
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const pageId = this.getAttribute('data-page');
            switchPage(pageId);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    });
    
    // Обработчик для кнопки "Каталог" на главной
    const showCatalogBtn = document.querySelector('.show-catalog');
    if (showCatalogBtn) {
        showCatalogBtn.addEventListener('click', function(e) {
            e.preventDefault();
            switchPage('catalog');
        });
    }
    
    // По умолчанию показываем главную страницу
    switchPage('home');
});
        /* Каталог */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            padding: 20px 0;
        }
        
        .product-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
        }
        
        .product-image {
            width: 100%;
            height: 180px;
            object-fit: contain;
            background: #f9f9f9;
            padding: 15px;
        }
        
        .product-info {
            padding: 15px;
        }
        
        .product-title {
            font-size: 1.1rem;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .product-specs {
            color: #7f8c8d;
            margin-bottom: 12px;
            font-size: 0.9rem;
        }
        
        .product-price {
            font-size: 1.3rem;
            color: #e74c3c;
            font-weight: bold;
        }
        
        /* Кнопки */
        .btn {
            display: inline-block;
            padding: 8px 16px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-decoration: none;
            margin-top: 10px;
            transition: background 0.3s;
            font-size: 0.9rem;
        }
        
        .btn:hover {
            background: #2980b9;
        }

        // batteryAI.js - ИИ модуль для магазина аккумуляторов

class BatteryAI {
  constructor(products) {
    this.products = products;
    this.userPreferences = {};
    this.initNLP();
  }

  // Инициализация обработки естественного языка
  initNLP() {
    this.keywords = {
      'price': ['ucuz', 'bahalı', 'qiymət', 'narx', 'budget'],
      'capacity': ['güc', 'aH', 'amper', 'capacity'],
      'brand': ['marka', 'brand', 'varta', 'bosch', 'mutlu'],
      'warranty': ['zəmanət', 'warranty', 'qarantiya'],
      'delivery': ['çatdırılma', 'delivery', 'çatdırma', 'teslimat']
    };
  }

  // Рекомендательная система
  recommendBatteries(userData) {
    // Анализ данных пользователя (история просмотров, автомобиль и т.д.)
    this.updateUserPreferences(userData);
    
    // Фильтрация продуктов по предпочтениям
    let recommendations = this.filterProducts();
    
    // Сортировка по релевантности
    recommendations.sort((a, b) => {
      const scoreA = this.calculateRelevanceScore(a);
      const scoreB = this.calculateRelevanceScore(b);
      return scoreB - scoreA;
    });
    
    return recommendations.slice(0, 3); // Топ-3 рекомендации
  }

  // Обновление предпочтений пользователя
  updateUserPreferences(userData) {
    if (userData.carBrand && userData.carModel) {
      this.userPreferences.carType = ${userData.carBrand} ${userData.carModel};
      
      // Определяем типичные требования для этого авто
      if (userData.carBrand.toLowerCase() === 'bmw') {
        this.userPreferences.minCapacity = 60;
        this.userPreferences.prefBrands = ['VARTA', 'BOSCH'];
      } else if (userData.carBrand.toLowerCase() === 'toyota') {
        this.userPreferences.minCapacity = 45;
        this.userPreferences.prefBrands = ['Mutlu', 'VARTA'];
      }
    }
    
    if (userData.viewHistory) {
      userData.viewHistory.forEach(item => {
        if (item.category === 'premium') {
          this.userPreferences.priceRange = 'high';
        }
      });
    }
  }

  // Фильтрация продуктов по предпочтениям
  filterProducts() {
    let filtered = [...this.products];
    
    if (this.userPreferences.minCapacity) {
      filtered = filtered.filter(p => 
        parseInt(p.capacity) >= this.userPreferences.minCapacity
      );
    }
    
    if (this.userPreferences.prefBrands) {
      filtered = filtered.filter(p =>
        this.userPreferences.prefBrands.some(brand => 
          p.name.includes(brand)
        )
      );
    }
    
    if (this.userPreferences.priceRange === 'high') {
      filtered = filtered.filter(p => p.price > 150);
    } else if (this.userPreferences.priceRange === 'low') {
      filtered = filtered.filter(p => p.price <= 150);
    }
    
    return filtered;
  }

  // Расчет релевантности продукта
  calculateRelevanceScore(product) {
    let score = 0;
    
    // Совпадение с предпочитаемыми брендами
    if (this.userPreferences.prefBrands && 
        this.userPreferences.prefBrands.some(b => product.name.includes(b))) {
      score += 30;
    }
    
    // Соответствие минимальной емкости
    if (this.userPreferences.minCapacity && 
        parseInt(product.capacity) >= this.userPreferences.minCapacity) {
      score += 20;
    }
    
    // Дополнительные баллы за популярность и т.д.
    if (product.name.includes('VARTA')) score += 10;
    if (product.price < 160) score += 5;
    
    return score;
  }

  // Обработка естественного языка (чат-бот)
  processQuery(query) {
    const lowerQuery = query.toLowerCase();
    let response = '';
    
    // Определение намерения пользователя
    if (this.containsAny(lowerQuery, ['salam', 'salamun aleykum', 'merhaba'])) {
      response = 'Salam! Sizə necə kömək edə bilərəm?';
    } 
    else if (this.containsAny(lowerQuery, this.keywords.price)) {
      response = 'Bizdə akkumulyatorlar 150 AZN-dən başlayaraq 600 AZN-dək qiymətlərdədir. ' +
        'Xüsusi endirimlərimiz haqqında məlumat üçün kataloqa baxa bilərsiniz.';
    }
    else if (this.containsAny(lowerQuery, this.keywords.capacity)) {
      response = 'Akkumulyatorun gücü (Ah) avtomobilinizin ehtiyacından asılıdır. ' +
                 'Avtomobilinizin marka və modelinə görə sizə uyğun akkumulyator tövsiyə edə bilərəm.';
    }
    else if (this.containsAny(lowerQuery, this.keywords.delivery)) {
      response = 'Bakı daxilində çatdırılma pulsuzdur və 24 saat ərzində həyata keçirilir. ' +
                 'Regionlara çatdırılma 2-3 iş günü çəkir. Ətraflı məlumat üçün "Çatdırılma" bölməsinə baxa bilərsiniz.';
    }
    else {
      response = 'Bağışlayın, sualınızı tam başa düşmədim. ' +
                 'Daha dəqiq məlumat üçün kataloqa baxa və ya avtomobilinizə görə axtarış edə bilərsiniz.';
    }
    
    return response;
  }

  // Вспомогательная функция для проверки ключевых слов
  containsAny(str, keywords) {
    return keywords.some(keyword => str.includes(keyword));
  }

  // Интеллектуальный поиск по каталогу
  intelligentSearch(query) {
    const results = [];
    const lowerQuery = query.toLowerCase();
    
    this.products.forEach(product => {
      let score = 0;
      
      // Проверка названия
      if (product.name.toLowerCase().includes(lowerQuery)) {
        score += 30;
      }
      
      // Проверка характеристик
      if (product.capacity.includes(query)) score += 20;
      if (product.current.includes(query)) score += 15;
      
      // Проверка цены
      if (!isNaN(query) && parseInt(query) >= product.price - 20 && parseInt(query) <= product.price + 20) {
        score += 10;
      }
      
      if (score > 0) {
        results.push({ product, score });
      }
    });
    
    // Сортировка по релевантности
    results.sort((a, b) => b.score - a.score);
    
    return results.map(item => item.product);
  }
}

// Инициализация ИИ с продуктами
const ai = new BatteryAI(products);

// Интеграция с вашим существующим кодом
document.addEventListener('DOMContentLoaded', function() {
  // Добавляем чат-бот в интерфейс
  addChatInterface();
  
  // Улучшаем поиск
  enhanceSearch();
});

// Добавление интерфейса чата
function addChatInterface() {
  const chatHTML = 
    <div id="ai-chat-container" style="position: fixed; bottom: 20px; right: 20px; z-index: 1000;">
      <div id="ai-chat-box" style="display: none; width: 300px; height: 400px; background: white; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); overflow: hidden; flex-direction: column;">
        <div style="background: #3498db; color: white; padding: 10px; font-weight: bold; display: flex; justify-content: space-between;">
          <span>Köməkçi</span>
          <button id="close-chat" style="background: none; border: none; color: white; cursor: pointer;">×</button>
        </div>
        <div id="chat-messages" style="flex: 1; padding: 10px; overflow-y: auto;"></div>
        <div style="padding: 10px; border-top: 1px solid #eee; display: flex;">
          <input id="chat-input" type="text" placeholder="Sualınızı yazın..." style="flex: 1; padding: 8px; border: 1px solid #ddd; border-radius: 5px 0 0 5px;">
          <button id="send-message" style="padding: 8px 15px; background: #3498db; color: white; border: none; border-radius: 0 5px 5px 0; cursor: pointer;">Göndər</button>
        </div>
      </div>
      <button id="chat-toggle" style="background: #3498db; color: white; border: none; border-radius: 50%; width: 60px; height: 60px; font-size: 20px; cursor: pointer; box-shadow: 0 0 10px rgba(0,0,0,0.2);">?</button>
    </div>
  ;
  
  document.body.insertAdjacentHTML('beforeend', chatHTML);
  
  // Обработчики событий чата
  document.getElementById('chat-toggle').addEventListener('click', function() {
      const chatBox = document.getElementById('ai-chat-box');
    chatBox.style.display = chatBox.style.display === 'none' ? 'flex' : 'none';
  });
  
  document.getElementById('close-chat').addEventListener('click', function() {
    document.getElementById('ai-chat-box').style.display = 'none';
  });
  
  document.getElementById('send-message').addEventListener('click', sendMessage);
  document.getElementById('chat-input').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') sendMessage();
  });
  
  function sendMessage() {
    const input = document.getElementById('chat-input');
    const message = input.value.trim();
    
    if (message) {
      addMessage(message, 'user');
      input.value = '';
      
      // ИИ обрабатывает запрос
      setTimeout(() => {
        const response = ai.processQuery(message);
        addMessage(response, 'bot');
      }, 500);
    }
  }
  
  function addMessage(text, sender) {
    const messages = document.getElementById('chat-messages');
    const messageDiv = document.createElement('div');
    messageDiv.style.marginBottom = '10px';
    messageDiv.style.padding = '8px 12px';
    messageDiv.style.borderRadius = '5px';
    messageDiv.style.maxWidth = '80%';
    messageDiv.style.wordWrap = 'break-word';
    
    if (sender === 'user') {
      messageDiv.style.background = '#e3f2fd';
      messageDiv.style.marginLeft = 'auto';
    } else {
      messageDiv.style.background = '#f1f1f1';
      messageDiv.style.marginRight = 'auto';
    }
    
    messageDiv.textContent = text;
    messages.appendChild(messageDiv);
    messages.scrollTop = messages.scrollHeight;
  }
}

// Улучшение поиска
function enhanceSearch() {
  // Добавляем поле поиска, если его нет
  if (!document.getElementById('search-box')) {
    const searchHTML = 
      <div style="margin: 20px 0; text-align: center;">
        <input id="search-box" type="text" placeholder="Akkumulyator axtar..." style="padding: 10px; width: 80%; max-width: 500px; border: 1px solid #ddd; border-radius: 5px;">
        <button id="search-button" style="padding: 10px 15px; background: #3498db; color: white; border: none; border-radius: 5px; margin-left: 5px; cursor: pointer;">Axtar</button>
      </div>
      <div id="search-results" style="margin-top: 20px;"></div>
    ;
    
    const catalogPage = document.getElementById('catalog');
    if (catalogPage) {
      catalogPage.insertAdjacentHTML('afterbegin', searchHTML);
      
      // Обработчики поиска
      document.getElementById('search-button').addEventListener('click', performSearch);
      document.getElementById('search-box').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') performSearch();
      });
    }
  }
  
  function performSearch() {
    const query = document.getElementById('search-box').value.trim();
    const resultsContainer = document.getElementById('search-results');
    
    if (query) {
      const results = ai.intelligentSearch(query);
      
      if (results.length > 0) {
        let resultsHTML = '<h3>Axtarış nəticələri:</h3><div class="product-grid">';
        
        results.forEach(product => {
          resultsHTML += `
            <div class="product-card">
              <img src="${product.image}" alt="${product.name}" class="product-image">
              <div class="product-info">
                <h3 class="product-title">${product.name}</h3>
                <div class="product-specs">
                  <p><strong>Güc:</strong> ${product.capacity}</p>
                  <p><strong>Başlatma cərəyanı:</strong> ${product.current}</p>
                  <p><strong>Ölçülər:</strong> ${product.dimensions}</p>
                </div>
                <div class="product-price">$${product.price}</div>
                <button class="btn add-to-cart" data-id="${product.id}">Səbətə əlavə et</button>
            </div>
            </div>
          `;
        });
        
        resultsHTML += '</div>';
        resultsContainer.innerHTML = resultsHTML;
      } else {
        resultsContainer.innerHTML = '<p>Heç bir nəticə tapılmadı. Başqa açar sözlər yoxlayın.</p>';
      }
    }
  }
}
        /* Подбор по авто */
        .car-selection {
            max-width: 500px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .form-group select, 
        .form-group input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        /* Подвал */
        footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 1.5rem 0;
            margin-top: 30px;
        }
        
        /* Адаптация для мобильных */
        @media (max-width: 768px) {
            .menu-toggle {
                display: block;
                padding: 10px 15px;
            }
            
            .nav-menu {
                position: fixed;
                top: 60px;
                left: -100%;
                width: 80%;
                height: calc(100vh - 60px);
                background: #2c3e50;
                flex-direction: column;
                transition: all 0.3s;
                padding: 20px 0;
            }
            
            .nav-menu.active {
                left: 0;
            }
            
            .nav-menu li {
                margin: 5px 0;
            }
            
            .nav-menu li a {
                padding: 12px 20px;
            }
            
            .product-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Akkumulyator Mağazası</h1>
            <p>Yüksək keyfiyyətli avtomobil akkumulyatorları</p>
        </div>
    </header>
    
    <nav>
        <div class="container nav-container">
            <button class="menu-toggle">☰</button>
            <ul class="nav-menu">
                <li><a href="#" class="nav-link active" data-page="home">Əsas Səhifə</a></li>
                <li><a href="#" class="nav-link" data-page="catalog">Kataloq</a></li>
                <li><a href="#" class="nav-link" data-page="selection">Avtomobilə görə seçim</a></li>
                <li><a href="#" class="nav-link" data-page="delivery">Çatdırılma</a></li>
                <li><a href="#" class="nav-link" data-page="contact">Əlaqə</a></li>
            </ul>
        </div>
    </nav>
    
    <div class="container">
        <!-- Главная страница -->
        <div id="home" class="page active">
            <section class="hero">
                <h2>Xoş gəlmisiniz!</h2>
                <p>Geniş çeşid və sərfəli qiymətlər</p>
                <a href="#" class="btn show-catalog">Kataloga bax</a>
            </section>
        </div>
        
        <!-- Каталог -->
        <div id="catalog" class="page">
            <h2>Akkumulyator Kataloqu</h2>
            <div class="product-grid">
                <!-- Товары будут добавляться через JavaScript -->
            </div>
        </div>
        
        <!-- Подбор по авто -->
        <div id="selection" class="page">
            <h2>Avtomobilə görə seçim</h2>
            <div class="car-selection">
                <div class="form-group">
                    <label for="car-brand">Avtomobil markası:</label>
                    <select id="car-brand">
                        <option value="">Seçin</option>
                        <option value="bmw">BMW</option>
                        <option value="mercedes">Mercedes</option>
                        <option value="audi">Audi</option>
                        <option value="toyota">Toyota</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="car-model">Model:</label>
                    <select id="car-model" disabled>
                        <option value="">Əvvəlcə marka seçin</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="car-year">Buraxılış ili:</label>
                    <select id="car-year" disabled>
                        <option value="">Əvvəlcə model seçin</option>
                    </select>
                </div>
                <button class="btn find-battery">Akkumulyator tap</button>
            </div>
        </div>
        
        <!-- Доставка -->
        <div id="delivery" class="page">
            <h2>Çatdırılma şərtləri</h2>
            <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 3px 10px rgba(0,0,0,0.1);">
                <p><strong>Bakı şəhəri daxilində:</strong> Pulsuz çatdırılma (24 saat ərzində)</p>
                <p><strong>Regionlara çatdırılma:</strong> 2-3 iş günü ərzində (qiymət müraciət zamanı bildirilir)</p>
                <p><strong>Ödəniş:</strong> Nağd və ya kartla (çatdırılma zamanı)</p>
            </div>
        </div>
        
        <!-- Контакты -->
        <div id="contact" class="page">
            <h2>Əlaqə</h2>
            <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 3px 10px rgba(0,0,0,0.1);">
                <p><strong>Ünvan:</strong> Bakı şəhəri, Nəsimi rayonu, Füzuli küçəsi 23</p>
                <p><strong>Telefon:</strong> +994 12 345 67 89</p>
                <p><strong>İş saatları:</strong> Hər gün 09:00 - 20:00</p>
                <p><strong>Email:</strong> info@akkumulator.az</p>
            </div>
        </div>
    </div>
    
    <footer>
        <div class="container">
            <p>© 2023 Akkumulyator Mağazası. Bütün hüquqlar qorunur.</p>
        </div>
    </footer>

    <script>
        // Данные товаров
        const products = [
            {
                id: 1,
                name: "VARTA Blue Dynamic",
                image: "https://via.placeholder.com/300x200?text=VARTA+60Ah",
                capacity: "60Ah",
                current: "540A",
                dimensions: "242x175x190mm",
                price: 179
            },
            {
                id: 2,
                name: "BOSCH S4",
                image: "https://via.placeholder.com/300x200?text=BOSCH+72Ah",
                capacity: "72Ah",
                current: "680A",
                dimensions: "278x175x190mm",
                price: 210
            },
            {
                id: 3,
                name: "Mutlu Silver",
                image: "https://via.placeholder.com/300x200?text=Mutlu+65Ah",
                capacity: "65Ah",
                current: "600A",
                dimensions: "242x175x190mm",
                price: 150
            }
        ];

        // Модели автомобилей
        const carModels = {
            bmw: ["3 Seriyası", "5 Seriyası", "X5"],
            mercedes: ["C-klass", "E-klass", "GLC"],
            audi: ["A4", "A6", "Q5"],
            toyota: ["Camry", "Corolla", "RAV4"]
        };

        // Годы выпуска
        const carYears = ["2020-2023", "2015-2019", "2010-2014", "2005-2009"];

        // Инициализация при загрузке страницы
        document.addEventListener('DOMContentLoaded', function() {
            // Загрузка товаров
            loadProducts();
            // Меню для мобильных
            setupMobileMenu();
            
            // Навигация по страницам
            setupNavigation();
            
            // Подбор по авто
            setupCarSelection();
            
            // Кнопка "В корзину"
            setupAddToCart();
            
            // Кнопка "Каталог" на главной
            setupCatalogButton();
        });

        // Загрузка товаров в каталог
        function loadProducts() {
            const productGrid = document.querySelector('.product-grid');
            
            if (productGrid) {
                productGrid.innerHTML = '';
                
                products.forEach(product => {
                    productGrid.innerHTML += 
                        <div class="product-card">
                            <img src="${product.image}" alt="${product.name}" class="product-image">
                            <div class="product-info">
                                <h3 class="product-title">${product.name}</h3>
                                <div class="product-specs">
                                    <p><strong>Güc:</strong> ${product.capacity}</p>
                                    <p><strong>Başlatma cərəyanı:</strong> ${product.current}</p>
                                    <p><strong>Ölçülər:</strong> ${product.dimensions}</p>
                                </div>
                                <div class="product-price">$${product.price}</div>
                                <button class="btn add-to-cart" data-id="${product.id}">Səbətə əlavə et</button>
                            </div>
                        </div>
                    ;
                });
            }
        }

        // Мобильное меню
        function setupMobileMenu() {
            const menuToggle = document.querySelector('.menu-toggle');
            const navMenu = document.querySelector('.nav-menu');
            
            if (menuToggle && navMenu) {
                menuToggle.addEventListener('click', function() {
                    navMenu.classList.toggle('active');
                });
            }
        }

        // Навигация по страницам
        function setupNavigation() {
            const navLinks = document.querySelectorAll('.nav-link');
            const pages = document.querySelectorAll('.page');
            const navMenu = document.querySelector('.nav-menu');
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Удаляем активный класс у всех ссылок
                    navLinks.forEach(l => l.classList.remove('active'));
                    // Добавляем активный класс текущей ссылке
                    this.classList.add('active');
                    
                    // Скрываем все страницы
                    pages.forEach(page => page.classList.remove('active'));
                    // Показываем нужную страницу
                    const pageId = this.getAttribute('data-page');
                    document.getElementById(pageId).classList.add('active');
                    
                    // Закрываем меню на мобильных
                    if (navMenu) navMenu.classList.remove('active');
                });
            });
        }

        // Подбор по авто
        function setupCarSelection() {
            const carBrand = document.getElementById('car-brand');
            const carModel = document.getElementById('car-model');
            const carYear = document.getElementById('car-year');
            const findBtn = document.querySelector('.find-battery');
            
            if (carBrand) {
                carBrand.addEventListener('change', function() {
                    if (this.value) {
                        carModel.innerHTML = '<option value="">Model seçin</option>';
                        carModels[this.value].forEach(model => {
                            carModel.innerHTML += <option value="${model}">${model}</option>;
                        });
                        carModel.disabled = false;
                    } else {
                        carModel.innerHTML = '<option value="">Əvvəlcə marka seçin</option>';
                        carModel.disabled = true;
                        carYear.disabled = true;
                    }
                    carYear.innerHTML = '<option value="">Əvvəlcə model seçin</option>';
                });
                
                carModel.addEventListener('change', function() {
                    if (this.value) {
                        carYear.innerHTML = '';
                        carYears.forEach(year => {
                            carYear.innerHTML += <option value="${year}">${year}</option>;
                        });
                        carYear.disabled = false;
                    } else {
                        carYear.innerHTML = '<option value="">Əvvəlcə model seçin</option>';
                        carYear.disabled = true;
                    }
                });
                
                findBtn.addEventListener('click', function() {
                    if (carBrand.value && carModel.value && carYear.value) {
                        alert('Uyğun akkumulyatorlar tapıldı! Kataloq bölməsinə yönləndirilirsiniz.');
                        document.querySelector('[data-page="catalog"]').click();
                    } else {
                        alert('Zəhmət olmasa bütün sahələri doldurun!');
                    }
                });
            }
        }

        // Кнопка "В корзину"
        function setupAddToCart() {
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('add-to-cart')) {
                    const productId = e.target.getAttribute('data-id');
                    const product = products.find(p => p.id == productId);
                    alert(${product.name} səbətə əlavə edildi!\nQiymət: $${product.price});
                }
            });
        }

        // Кнопка "Каталог" на главной
        function setupCatalogButton() {
            const showCatalogBtn = document.querySelector('.show-catalog');
            if (showCatalogBtn) {
                showCatalogBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    document.querySelector('[data-page="catalog"]').click();
                });
            }
        }
    </script>
</body>
</html>
